<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>Preview</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
      body {
        background-color: black;
      }
      .title,
      .name_channel,
      .mc_elm {
        font-family: "Anton", sans-serif;
      }
      .segment.highlight {
        background-color: #adb5bd;
        color: black;
        padding: 0.1em 0.25em;
        border-radius: 4px;
      }
      .segment {
        display: block; /* Cho mỗi span xuống dòng */
        margin-bottom: 0.5em; /* Cách dòng */
      }
    </style>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Anton&family=Roboto:ital,wght@0,100..900;1,100..900&display=swap"
      rel="stylesheet"
    />
  </head>
  <body class="">
    <!-- Preview Container (scaled down to 1280x720) -->
    <div
      class="relative w-[1280px] h-[720px] overflow-hidden font-sans text-white origin-top-left"
    >
      <!-- Nền ảnh -->
      <img
        src="https://i.pinimg.com/736x/83/03/10/830310fd49dbb7e6d66cd4aa971f55c0.jpg"
        class="absolute w-full h-full object-cover z-0 brightness-50"
        alt="background"
      />

      <!-- Overlay nội dung -->
      <div class="relative z-10 flex flex-col h-full p-6">
        <!-- Header -->
        <div class="flex flex-col items-start mt-4">
          <div class="title text-4xl">
            Bị Cấm Thi Đại Học – Ta Tự Chế Máy Bay Tàng Hình Thế Hệ 6!<span class="ml-10"></span> Chương 1651 - 1660
          </div>
          <div class="text-lg text-gray-300">Xuyên Không, Hệ Thống, Quân Sự</div>
        </div>

        <!-- Main content -->
        <div class="mt-4">
          <div class="h-[480px] flex flex-1 gap-4">
            <!-- Text area -->
            <div
              id="scrolling"
              class="max-h-[480px] w-[925px] text-[#111827] bg-[#fefae0] rounded-lg p-4 leading-relaxed shadow-lg space-y-2 border-4 border-white text-4xl overflow-y-auto"
            >
              {{LINES}}
            </div>

            <!-- MC Video/avatar -->
            <div class="flex flex-col gap-4 items-center">
              <div class="flex justify-betwen gap-4">
                <img
                   src="https://i.pinimg.com/736x/09/5c/19/095c194df261194ab4b0094f998c8539.jpg"
                  alt="Avatar"
                  class="w-28 h-28 rounded-full object-cover border-4 border-white shadow-lg"
                />
                <div class="flex flex-col justify-center">
                  <span class="name_channel text-xl">Vi Tiếu Hùng Audio</span>
                  <span class="name_a_channel text-sm">@29vnl09</span>
                  <span class="sub_channel text-sm">495</span>
                </div>
              </div>
              <div
                class="flex flex-1 justify-center items-center w-full relative"
              >
                <div
                  class="w-full h-full overflow-hidden shadow-xl border-4 border-white"
                ></div>
                <div
                  class="mc_elm absolute bottom-[4px] z-10 bg-red-500 w-[calc(100%-8px)] text-center text-xl py-2"
                >
                  MC Tiểu Linh
                </div>
              </div>
            </div>
          </div>
          <div class="w-full h-[50px] my-4 bg-black bg-opacity-50 text-[24px]"></div>
        </div>
      </div>
    </div>
    <script>
      window.__readyToCapture = new Promise((resolve) => {
        window.__resolveCapture = resolve;
      });

      function highlight(index) {
        const segments = document.querySelectorAll(".segment");
        segments.forEach((el, i) => {
          const isEmpty = el.textContent.trim() === "";
          el.classList.toggle("highlight", i === index && !isEmpty);
        });

        const target = segments[index];
        if (target) {
          target.scrollIntoView({
            behavior: "instant",
            block: "center",
          });
        }

        if (window.__resolveCapture) {
          requestAnimationFrame(() => {
            setTimeout(() => {
              window.__resolveCapture();
            }, 150);
          });
        }
      }
    </script>
  </body>
</html>
